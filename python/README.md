# DataStream in Python

Helper functions  provided in  [datastream.py](datastream.py) 
are ideal for  working with HDF5 data stored using
DataStream (*these rely on* `h5py` *[methods](https://docs.h5py.org/en/stable/index.html#high-level-api-reference)*).

## Pre-requisite

`h5py` can be installed using either Linux package
manager

```shell
sudo apt install python3-h5py
```

or using the `pip` package installer

```shell
pip3 install h5py
```

## Usage

First, open the HDF5 file in readonly mode

```python
import h5py
file = h5py.File(/path/to/file, 'r')
```

To use the helper functions, one needs to load the
script provided

```python
import datastream as ds
```

Irrespective of the purpose, every function has two
positional arguments : HDF5 file object and path (of
interest) within that file 

 - `get_data(file, path)` : Returns data for all events
   combined as numpy array where `path` points to the
   dataset

 - `get_data_ebe(file, path, index)` : Returns data for
   a single event denoted by `index`

 - `get_attribute(file, path, attr)` : Returns the 
   attribute specified by `attr` from given `path`
 
 - `get_event(file, path)` : Returns total number of
   events

 - `get_dimension(file, path)` : Returns total number
   of dimensions for data stored at `path`
 
 - `get_shape(file, path)` : Returns length along each
   dimension

For example, refer to [read.py](read.py) which uses the
HDF5 file generated by [write.cc](../example/write.cc) and produces
identical output that of [read.cc](../example/read.cc)

```shell
python3 read.py /path/to/Data.h5
```